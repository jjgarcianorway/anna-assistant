# Anna v1.0.0 - Autonomous Event-Driven Intelligence

## üéâ First Stable Release

Anna is a complete rewrite of the original concept - an autonomous system assistant that **observes, learns, and recommends** without ever taking actions automatically. This release marks the completion of the v1.0 architecture.

## ‚ú® Core Features

### 1. **Event-Driven Intelligence**
- Real-time system monitoring with intelligent event detection
- Debounced event processing (300ms) with cooldown periods
- Event history tracking and pattern recognition
- 500-event circular buffer for analysis

### 2. **Three-Radar System**
- **Hardware Radar**: CPU, memory, thermals, disk, network
- **Software Radar**: Updates, security, backups, system config
- **User Radar**: Behavior patterns, usage trends, preferences
- Combined scores provide holistic system health (0-10 scale)

### 3. **System Advisor**
- Arch Linux hardware profiling (ASUS ROG, CPU, GPU detection)
- Btrfs intelligence (snapshots, compression, deduplication)
- Actionable recommendations with impact scores
- Persona-based advice (gamer, developer, power-user, etc.)

### 4. **Autonomous Self-Healing**
- **Daemon auto-repair on startup**
- Detects and fixes:
  - Permission issues (/var/lib/anna, /var/log/anna)
  - Missing directories
  - Stale sockets
  - Database access problems
- **Installer auto-repair post-installation**
- Zero user intervention required

### 5. **Health Monitoring**
- Comprehensive `annactl doctor check` with 8 health checks
- RPC latency tracking (p95/p99)
- Memory usage monitoring
- Queue depth analysis
- Capability degradation detection

### 6. **Zero-Compilation Release Pipeline**
- Developers: `./scripts/release.sh` (5 seconds, no build)
- GitHub Actions: Automatic binary builds on tag push
- Users: `sudo ./scripts/install.sh` (downloads pre-built binaries)
- **No Rust toolchain needed for users**

## üì¶ Installation

```bash
# One-command install (downloads pre-built binaries)
sudo ./scripts/install.sh
```

**What it does:**
1. Downloads latest release from GitHub
2. Verifies SHA256 checksum
3. Installs binaries to /usr/local/bin
4. Creates anna user/group
5. Configures systemd service
6. Runs auto-repair to fix any issues
7. Starts daemon and verifies health

**Fallback:** If GitHub assets unavailable, auto-installs Rust toolchain and builds locally.

## üîß Commands

```bash
# System health and status
annactl status          # Quick daemon status
annactl report          # Full health report with recommendations
annactl doctor check    # Comprehensive health diagnostics
annactl doctor repair   # Fix common issues

# System intelligence
annactl radar           # Show hardware/software/user scores
annactl advisor         # Get system-specific recommendations
annactl profile         # Show hardware profile

# Monitoring
annactl sensors         # CPU, memory, temps, battery
annactl disk            # Disk usage and SMART status
annactl net             # Network interfaces
annactl top             # Top processes

# Storage (Btrfs)
annactl storage         # Show Btrfs profile and snapshots
```

## üèóÔ∏è Architecture

- **Language:** Rust (tokio async runtime)
- **IPC:** Unix socket RPC (/run/anna/annad.sock)
- **Storage:** SQLite (telemetry snapshots, events, history)
- **Security:** Unprivileged daemon (runs as `anna` user)
- **Observability:** JSON-RPC v2.0 API

## üõ°Ô∏è Security Model

Anna is **observe-only** by design:
- ‚ùå **Never executes commands automatically**
- ‚ùå **Never modifies system configuration**
- ‚ùå **No sudo/root privileges during operation**
- ‚úÖ **Only reads system state**
- ‚úÖ **Only provides recommendations**
- ‚úÖ **User has final say on all actions**

The only exception is **self-healing**, which:
- Fixes Anna's own directories and permissions
- Never touches user files or system config
- Only runs on daemon startup or explicit `doctor repair`

## üî¨ What's New in v1.0.0

### Self-Healing Architecture
- Daemon runs self-diagnostics on every startup
- Automatically fixes permission issues
- Removes stale sockets
- Ensures database accessibility
- Logs all auto-repairs for transparency

### Clean Repository
- Removed 120+ obsolete documentation files
- Minimal docs: README.md, CHANGELOG.md, V1.0-QUICKSTART.md
- Clean git history for v1.0 era

### Improved Installer
- Version-sorted release selection (not API order)
- Better error messages
- Post-install health verification
- Suggests next steps after install

### Zero-Compilation Workflow
- Developers never compile during release (just git ops)
- Users never compile (download binaries)
- CI handles all builds
- 5-second releases, 2-second installs

## üìä Performance

- **Daemon memory:** ~15-20 MB
- **RPC latency:** <10ms (p99)
- **Telemetry collection:** 30-second intervals
- **Event processing:** 300ms debounce, 30s cooldown
- **Startup time:** <2 seconds (including self-heal)

## üöÄ Upgrade from RC Releases

```bash
# Automatic upgrade (preserves data)
sudo ./scripts/install.sh
```

The installer detects existing installations and:
- Backs up current binaries
- Stops daemon gracefully
- Installs new version
- Runs auto-repair
- Restarts daemon
- Verifies health

Database and config are preserved.

## üîÆ Future Plans (v1.1+)

- Persistent event patterns and learning
- Predictive maintenance alerts
- Integration with system package managers
- Multi-host intelligence sharing
- Web dashboard (optional)

## üìù Requirements

- **OS:** Linux (systemd-based)
- **Architecture:** x86_64
- **Optional:** lm_sensors, smartmontools (enhanced telemetry)

## üêõ Known Issues

- Light terminal color scheme detection not yet implemented
- Log rotation not yet automatic (manual cleanup needed)
- Multi-distro package manager support in progress

## üìñ Documentation

- **Quickstart:** docs/V1.0-QUICKSTART.md
- **Changelog:** CHANGELOG.md
- **GitHub:** https://github.com/jjgarcianorway/anna-assistant

## üôè Credits

Built with:
- Rust ecosystem (tokio, serde, rusqlite, clap)
- Anthropic Claude (pair programming partner)
- Community feedback and testing

---

**Anna is now production-ready.** Report issues at:
https://github.com/jjgarcianorway/anna-assistant/issues

**Install now:**
```bash
curl -fsSL https://github.com/jjgarcianorway/anna-assistant/raw/main/scripts/install.sh | sudo bash
```
