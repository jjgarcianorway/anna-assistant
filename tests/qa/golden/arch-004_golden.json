{
  "id": "arch-004",
  "question": "How do I regenerate the GRUB configuration after editing /etc/default/grub?",
  "golden_answer": {
    "summary": "Run 'grub-mkconfig -o /boot/grub/grub.cfg' as root to regenerate GRUB configuration from /etc/default/grub and other config files.",
    "steps": [
      "Edit GRUB configuration: sudo nano /etc/default/grub",
      "Save changes and exit editor",
      "Regenerate GRUB config: sudo grub-mkconfig -o /boot/grub/grub.cfg",
      "Review output for any errors or warnings",
      "Reboot to test changes: sudo reboot",
      "If changes don't work, boot into recovery and restore /boot/grub/grub.cfg.backup"
    ],
    "required_commands": [
      "grub-mkconfig -o /boot/grub/grub.cfg"
    ],
    "required_files": [
      "/etc/default/grub",
      "/boot/grub/grub.cfg"
    ],
    "required_concepts": [
      "GRUB bootloader",
      "kernel parameters",
      "boot configuration"
    ],
    "validation": [
      "cat /boot/grub/grub.cfg | grep <your-change>",
      "Successful reboot with new settings"
    ],
    "warnings": [
      "CRITICAL: Wrong GRUB config can make system unbootable - have recovery media ready",
      "Backup existing config: sudo cp /boot/grub/grub.cfg /boot/grub/grub.cfg.backup",
      "Test changes before rebooting if possible",
      "Common mistake: editing /boot/grub/grub.cfg directly (changes will be overwritten)"
    ],
    "references": [
      "Arch Wiki: GRUB",
      "Arch Wiki: Kernel parameters",
      "man grub-mkconfig"
    ]
  }
}
