{
  "id": "arch-009",
  "question": "How do I downgrade a package in Arch Linux?",
  "golden_answer": {
    "summary": "Install older version from /var/cache/pacman/pkg/ using 'pacman -U', or use 'downgrade' package from AUR for easier downgrading.",
    "steps": [
      "Check pacman cache for old versions: ls /var/cache/pacman/pkg/ | grep <package-name>",
      "Install specific version from cache: sudo pacman -U /var/cache/pacman/pkg/<package-name-version>.pkg.tar.zst",
      "Or use downgrade tool (easier): yay -S downgrade",
      "Run downgrade: sudo downgrade <package-name>",
      "Select version from interactive menu",
      "Add package to IgnorePkg to prevent upgrade: Edit /etc/pacman.conf, add 'IgnorePkg = <package-name>'",
      "Verify downgrade: pacman -Q <package-name>"
    ],
    "required_commands": [
      "pacman -U",
      "pacman -Q"
    ],
    "required_files": [
      "/var/cache/pacman/pkg/",
      "/etc/pacman.conf"
    ],
    "required_concepts": [
      "package downgrade",
      "pacman cache",
      "IgnorePkg"
    ],
    "validation": [
      "pacman -Q <package-name> shows old version",
      "Package works correctly"
    ],
    "warnings": [
      "Downgrading can cause dependency conflicts - check pacman warnings",
      "Add package to IgnorePkg in /etc/pacman.conf to prevent automatic upgrade",
      "If cache was cleaned, you may need to download from Arch Archive",
      "Downgrading core packages (glibc, systemd) can break your system",
      "Consider finding root cause instead of permanently downgrading"
    ],
    "references": [
      "Arch Wiki: Downgrading packages",
      "Arch Linux Archive: https://archive.archlinux.org",
      "man pacman"
    ]
  }
}
